<h2>
    Liste des Livres</h2>

<!-- Formulaire d’ajout -->
<div>
    <input [(ngModel)]="newTitre" placeholder="Titre">
    <input [(ngModel)]="newAuteur" placeholder="Auteur">
    <button (click)="addBook()">Ajouter</button>
</div>

<!-- Message d’erreur -->
<p *ngIf="message" class="error-message">{{ message }}</p>

<!-- Liste des livres -->
<div *ngIf="books.length > 0; else noBooks">
    <ul>
        <li *ngFor="let book of books">
            <div *ngIf="editingBook?.id !== book.id">
                <strong>{{ book.titre }}</strong> par {{ book.auteur }}
                <span *ngIf="book.disponible"> (Disponible)</span>
                <span *ngIf="!book.disponible"> (Indisponible)</span>
                <button (click)="editBook(book)">Modifier</button>
                <button (click)="deleteBook(book.id)">Supprimer</button>
            </div>

            <!-- Mode édition -->
            <div *ngIf="editingBook?.id === book.id">
                <input [(ngModel)]="editingBook.titre" placeholder="Titre">
                <input [(ngModel)]="editingBook.auteur" placeholder="Auteur">
                <button (click)="saveBook()">Enregistrer</button>
                <button (click)="editingBook = null">Annuler</button>
            </div>
        </li>
    </ul>
</div>

<ng-template #noBooks>
    <p>Aucun livre disponible.</p>
</ng-template>